import{r as c,n as g,o as f,F as v,j as s,B as n,G as j,X as N,J as C,v as o,y as d,K as w}from"./index-B9_LgfsR.js";const S=()=>{const[m,t]=c.useState([]),[y,i]=c.useState(null),l=g(f);c.useEffect(()=>l?((async()=>{try{const a=await C();t(a)}catch(a){console.error("Wishlist fetch error:",a),i("")}})(),()=>{v()}):void 0,[l]);const h=async e=>{if(e)try{const r=await o({productId:e},"/cart/add");"status"in r?d.success("Product added to cart successfully"):"error_code"in r&&i(r.description)}catch(a){console.error("Cart error:",a),i("Failed to add item to cart")}},x=async e=>{if(e)try{const r=await o({productId:e},"/wishlist/remove");"status"in r?(t(p=>p.filter(u=>u.id!==e)),w(e),d.success("Product removed from wishlist")):"error_code"in r&&i(r.description)}catch(a){console.error("Failed to remove from wishlist:",a),i("Failed to remove item from wishlist")}};return s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("h1",{className:"text-xl font-medium font-[poppins] text-[#191C1F'] p-2",children:"Wishlist"}),s.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 border-b text-sm font-medium text-muted-foreground bg-gray-100",children:[s.jsx("div",{className:"col-span-6 lg:col-span-7",children:"PRODUCTS"}),s.jsx("div",{className:"col-span-2",children:"PRICE"}),s.jsx("div",{className:"hidden lg:block lg:col-span-1",children:"STOCK STATUS"}),s.jsx("div",{className:"col-span-4 lg:col-span-2",children:"ACTIONS"})]}),s.jsx("div",{className:"divide-y",children:m.map(e=>s.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 items-center cursor-pointer",children:[s.jsx("div",{className:"col-span-6 lg:col-span-7",children:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"w-1/12 relative",children:s.jsx("img",{src:e.image,alt:e.name,className:"object-cover rounded-md"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("h3",{className:"text-sm font-medium leading-tight truncate",children:e.name})})]})}),s.jsx("div",{className:"col-span-2",children:s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"font-medium",children:["$",e.price]})})}),s.jsx("div",{className:"hidden lg:block lg:col-span-1",children:s.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium 
                
                    bg-red-50 text-red-700`,children:e.qty>0?"IN STOCK":"OUT OF STOCK"})}),s.jsx("div",{className:"col-span-4 lg:col-span-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(n,{size:"sm",className:"w-full bg-[#FCB857] hover:bg-orange-300",disabled:e.qty<=0,onClick:()=>h(e.id),children:[s.jsx(j,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Add to Cart"})]}),s.jsx(n,{variant:"ghost",size:"icon",className:"shrink-0 border-2 rounded-full",onClick:()=>x(e.id),children:s.jsx(N,{className:"w-4 h-4"})})]})})]},e.id))})]})})};export{S as default};
