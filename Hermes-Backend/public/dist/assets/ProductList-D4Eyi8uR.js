import{r as t,j as e,P as u,B as h,L as f,g as j}from"./index-B9_LgfsR.js";import{S as v,a as w,b as N,c as b,d as c}from"./select-FfwEZW5c.js";const y=["Wireless","Under $50","In Stock"],k=()=>{const[o,i]=t.useState([]),[d,n]=t.useState(null),[x,p]=t.useState(!0),[S,m]=t.useState("most-popular");t.useEffect(()=>{(async()=>{p(!0);try{const s=await j("","/product/getProduct");"error_code"in s?n(s.description):"status"in s&&i(s.products)}catch(s){console.error("Product fetch error:",s),n("Failed to fetch products. Please try again later.")}finally{p(!1)}})()},[]);const g=r=>{m(r);const s=[...o];switch(r){case"price-low":s.sort((a,l)=>a.price-l.price);break;case"price-high":s.sort((a,l)=>l.price-a.price);break}i(s)};return x?e.jsx("div",{className:"w-[90vw] mx-auto py-20",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5 lg:gap-6",children:[...Array(8)].map((r,s)=>e.jsx(u,{product:void 0},s))})}):d?e.jsx("div",{className:"w-[90vw] mx-auto py-20",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[e.jsx("strong",{className:"font-bold",children:"Error: "}),e.jsx("span",{className:"block sm:inline",children:d})]})}):e.jsx("div",{className:"w-[90vw] mx-auto py-10 sm:py-16",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:gap-8",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex flex-col gap-4 mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:e.jsxs(v,{defaultValue:"most-popular",onValueChange:r=>g(r),children:[e.jsx(w,{className:"w-full sm:w-48",children:e.jsx(N,{placeholder:"Sort by"})}),e.jsxs(b,{children:[e.jsx(c,{value:"most-popular",children:"Most Popular"}),e.jsx(c,{value:"price-low",children:"Price: Low to High"}),e.jsx(c,{value:"price-high",children:"Price: High to Low"})]})]})})}),e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs(h,{variant:"outline",className:"w-full flex items-center justify-between",onClick:()=>alert("Mobile sidebar would open here"),children:[e.jsx("span",{children:"Filters"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.length," active"]})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5 lg:gap-6",children:o.map(r=>e.jsx(f,{to:`/productdetail/${r.id}`,children:e.jsx(u,{product:r})},r.id))})]})})})};export{k as default};
